<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>calculator</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
    <h1 class="titre">My Calculator !</h1>
    <div id="container">
        <div class="form1">
            <form id="myform">
                <div class="elem">
                    <input type="text" id="result" name="inputtext" placeholder="0">
                </div>
                <div class="elem">
                    <input type="button" value="1" onclick="myform.inputtext.value+=1">
                    <input type="button" value="2" onclick="myform.inputtext.value+=2">
                    <input type="button" value="3" onclick="myform.inputtext.value+=3">
                    <input type="button" value="+" onclick="operation('+')">
                </div>
               
                <div class="elem">
                    <input type="button" value="4" onclick="myform.inputtext.value+=4">
                    <input type="button" value="5" onclick="myform.inputtext.value+=5">
                    <input type="button" value="6" onclick="myform.inputtext.value+=6">
                    <input type="button" value="-" onclick="operation('-')">
                </div>
               
                <div class="elem">
                    <input type="button" value="7" onclick="myform.inputtext.value+=7">
                    <input type="button" value="8" onclick="myform.inputtext.value+=8">
                    <input type="button" value="9" onclick="myform.inputtext.value+=9">
                    <input type="button" value="/" onclick="operation('/')">
                </div>
               
                <div class="elem">
                    <input type="button" value="C" onclick="myform.inputtext.value='';fillLog('Screen Deleted...')">
                    <input type="button" value="0" onclick="myform.inputtext.value+=0">
                    <input
                            type="button"
                            value="="
                            onclick=
   
                            "fillLog(myform.inputtext.value+' = '+eval(myform.inputtext.value));
                            myform.inputtext.value=eval(myform.inputtext.value);">
                    <input type="button" value="x" onclick="operation('*')">
                </div>
               
            </form>
        </div>
        <div class="log">
            <form class="form2" id="logform">
                               
                    <label for="log">Log : </label>
                    <textarea name="log" id="log" cols="80" rows="13" readonly></textarea>
                   
            </form>
        </div>

        <script>
           


            var name;
            window.onload = (event) => {
                name=prompt("Your name :) :","Unknown");
                const p = document.createElement("p");
                p.textContent="Created By <<"+name+">>";
                document.body.querySelector(".titre").appendChild(p);
              };


            function fillLog(text){//3+1=4
                date=  new Date().toLocaleString();//10/5/2001 10:50:30
                text=date+" : ["+name+"]  # "+text;
                // 10/5/2001 10:50:30 : [Med] # 3+1=4
                logform.log.value=text+'\n'+logform.log.value;
            }
            function operation(op){// '+' '-'  '*'...
                val=myform.inputtext.value;
                o=val[val.length - 1];//3+4 =>4 //3/ =>+
                //console.log(o);
                if ("+*-/".indexOf(o)>-1){
                    fillLog("operation denied ! Autofix : Replace ["+o+"] >> ["+op+"]");
                    myform.inputtext.value=val.substring(0, val.length-1) + op;
                }
                else{
                    myform.inputtext.value+=op;
                }    
            }
        </script>
    </div>
</body>
</html>
